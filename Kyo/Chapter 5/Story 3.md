# 03. 복수 서버에 리퀘스트를 분배 : 부하 분산

### 1. 처리 능력이 부족하면 복수 서버로 부하가 분산된다.

---

서버에 액세스가 증가하면 서버로 통하는 회선을 빠르게 하면 되지만 부족할 수 있다.

이때는 **복수의 서버**를 사용하여 처리를 분담하는 방법이 있다.

- 분산처리 (한 대당 처리량을 줄이는 것이 효과적이다.)

[www.kyo.com](http://www.kyo.com) 이라는 서버명에 192.0.2.60, 192.0.2.70, 192.0.2.80 3개의 IP를 할당한다.

그리고 DNS서버는 돌아가며 위의 IP를 준다. 

- 60, 70, 80 주고 다음 요청또오면 70,80,90

→ 고장난 웹서버를 DNS가 판단할 수 없다.

→ **연속적으로 통신을 해야할 때, 통신이 끊길 수 있다. (1번 페이지 입력 후 전송, 2번 페이지 입력 후 전송)**

(동일한 서버에 리퀘스트를 보내야할 때)

### 2. 부하 분산 장치를 이용하여 여러 웹 서버로 분산

---

- 위의 상황으로 인해 **`부하 분산장치`** 라는 기기를 추가적으로 사용할 수 있다.
- 부하 분산장치를 서버대신 DNS에 등록한다.
- 그리고 클라이언트는 부하분산장치를 웹서버라 생각하고 리퀘스트를 보낸다.
- 부하분산장치가 특정 웹서버에 리퀘스트가 부하되지않도록 분산한다.
- 만약 연속적으로 통신을 해야할 경우 HTTP 필드에 헤더를 부가하는 방법을 사용한다.(쿠키)
    - 다른 방법은 오히려 서버 부담이 커진다.(일일이 관계를 저장 등등)
