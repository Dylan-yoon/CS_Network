## Story_02 방화벽의 원리와 동작
#### 패킷 필터링형
방화벽을 가장 먼저 마주치게 되는데, 수많은 패킷 종류 중 선별 하는 것은 어려움
-> 여러가지 방화벽중 `패킷 필터링형` 이 가격, 성능, 사용편의성 등의 기준으로 가장 많이 보급됨

패킷 필터링 조건 설정
- 패킷의 IP주소에 시점(송신처 IP) 상관없이 종점(수신처 IP, -> 서버)이 일치하면 통과시킨다.
- 인터넷 통신은 받은 패킷을 수신확인 응답을 보내야 하기 때문에 방화벽에서는 웹서버의 IP 주소가 수신처가 될 때도 통과시킨다.
- 애플리케이션 한정해 차단할 때에 특정 포트번호를 제외한 패킷을 모두 차단한다.

웹 서버에서 인터넷측에 엑세스하는 동작을 정지 시킬 수 없음
엑세스 방향을 판단해 정지 시켜야한다.
  - 이 때 컨트롤 비트를 이용함
    - 컨트롤 비트로 접속 방향을 판단한다.
      - 접속 단계에서 SYN: 1, ACK: 0

일반적으로 액세스를 허가하는 패킷만 통과시키고 그 외는 차단시킨다
- 반대의 경우(차단하는것을 제외하고 모든것 통과) 미지의 위험한 패킷을 통과 시킬 수 있기 때문에 일반적으로 위와 같이 한다.

또한 아래 두가지 경우의 조건도 악영향을 끼치지 않도록 설정해 주어야 한다.
- 사내 LAN - 공개 서버용 LAN
- 사내 LAN - 인터넷

패킷 필터링형 방화벽은 주소 변환의 기능을 가지고 있음.
- 인터넷과 사내 LAN 을 왕래하는 패킷은 주소 변환을 해야하기 때문에


요약
- 패킷필터링형 방화벽은 
  - 수신처 IP 주소
  - 송신처 IP 주소
  - 수신처 포트 번호
  - 송신처 포트 번호
  - 컨트롤 비트
  - ETC...
- 위와 같은 정보들로 패킷을 통과시킬지 말지 결정한다.
- 방화벽은 라우터의 역할, 하지만 라우터가 하기엔 하드,소프트웨어적으로 무리가 있기 때문에 전용 하드웨어나 소프트웨어를 사용한다.
